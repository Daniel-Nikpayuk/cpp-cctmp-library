/************************************************************************************************************************
**
** 2022 Daniel Nikpayuk, Inuit Nunangat, The Inuit Nation
**
** This file is part of cpp_cctmp_library.
**
** cpp_cctmp_library is free software: you can redistribute it and/or modify it under the terms
** of the GNU General Public License as published by the Free Software Foundation, either version 3
** of the License, or (at your option) any later version.
**
** cpp_cctmp_library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
** without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
** See the GNU General Public License for more details.
**
** You should have received a copy of the GNU General Public License along with cpp_cctmp_library.
** If not, see <http://www.gnu.org/licenses/>.
**
************************************************************************************************************************/

namespace cctmp_one_cycle_generics {

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// repeat:

/***********************************************************************************************************************/

// conceptual:

	nik_ce auto conceptual_repeat_defaults = U_pack_Vs
	<
		_out_iter_
		<
			_ival_      < _closing      >,
			_next_      < _increment_<> >
		>,

		_break_
		<
			_op_        < _equal_       >,
			_out_arg_   < _id_          >,
			_end_arg_   < _id_          >
		>,

		_mutate_
		<
			_op_        < _assign_      >,
			_out_arg_   < _dereference_ >,
			_in_arg_    < _id_          >
		>
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// map:

/***********************************************************************************************************************/

// conceptual:

	template<auto f = _dereference_>
	nik_ce auto conceptual_map_defaults = U_pack_Vs
	<
		_out_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_break_
		<
			_equal_op_ ,
			_in_arg_i_ ,
			_end_arg_i_
		>;

		_mutate_
		<
			_assign_op_    ,
			_out_arg_d_    ,
			_in_arg_ < f >
		>;
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// fold:

/***********************************************************************************************************************/

// conceptual:

	nik_ce auto conceptual_fold_defaults = U_pack_Vs
	<
		_in_iter_
		<
			_ival_      < _closing      >,
			_next_      < _increment_<> >
		>,

		_break_
		<
			_equal_op_ ,
			_in_arg_i_ ,
			_end_arg_i_
		>;

		_combine_
		<
			_op_        < _tuple_       >,
			_out_arg_   < _id_          >,
			_in_arg_    < _dereference_ >
		>
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// find:

/***********************************************************************************************************************/
/***********************************************************************************************************************/

// (find) first:

/***********************************************************************************************************************/

// conceptual:

	nik_ce auto conceptual_find_first_defaults = U_pack_Vs
	<
		_out_iter_
		<
			_next_      < _increment_<>     >
		>,

		_in_iter_
		<
			_ival_      < _closing          >,
			_next_      < _increment_<>     >
		>,

		_break_
		<
			_equal_op_ ,
			_in_arg_i_ ,
			_end_arg_i_
		>;

		_match_
		<
			_op_        < _constant_<false> >,
			_in_arg_    < _dereference_     >
		>,

		_mutate_
		<
			_assign_op_    ,
			_out_arg_d_    ,
			_in_arg_ < f >
		>;
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/

// (find) all:

/***********************************************************************************************************************/

// conceptual:

	template<auto f = _dereference_>
	nik_ce auto conceptual_find_all_defaults = U_pack_Vs
	<
		_out_iter_
		<
			_next_      < _increment_<>     >
		>,

		_in_iter_
		<
			_ival_      < _closing          >,
			_next_      < _increment_<>     >
		>,

		_break_
		<
			_equal_op_ ,
			_in_arg_i_ ,
			_end_arg_i_
		>;

		_match_
		<
			_op_        < _constant_<false> >,
			_in_arg_    < _dereference_     >
		>,

		_mutate_
		<
			_assign_op_    ,
			_out_arg_d_    ,
			_in_arg_ < f >
		>;
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// zip (bimap):

/***********************************************************************************************************************/

// conceptual:

	nik_ce auto conceptual_zip_defaults = U_pack_Vs
	<
		_out_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_car_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_cdr_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_break_
		<
			_equal_op_     ,
			_cdr_in_arg_i_ ,
			_end_arg_i_
		>;

		_action_
		<
			_tuple_op_     ,
			_car_in_arg_d_ ,
			_cdr_in_arg_d_
		>;

		_mutate_
		<
			_assign_op_ ,
			_out_arg_d_ ,
			_ps_arg_i_
		>;
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// fasten (zip with a carry):

/***********************************************************************************************************************/

// conceptual:

	nik_ce auto conceptual_fasten_defaults = U_pack_Vs
	<
		_out_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_car_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_cdr_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_break_
		<
			_equal_op_     ,
			_cdr_in_arg_i_ ,
			_end_arg_i_
		>;

		_action_
		<
			_tuple_op_     ,
			_car_in_arg_d_ ,
			_cdr_in_arg_d_
		>;

		_combine_
		<
			_op_         < _tuple_           >,
			_out_arg_    < _dereference_     >,
			_in_arg_     < _id_              >
		>,

		_mutate_
		<
			_assign_op_ ,
			_out_arg_d_ ,
			_ps_arg_i_
		>;

		_in_iter_
		<
			_op_         < _constant_<false> >,
			_out_arg_    < _dereference_     >,
			_in_arg_     < _id_              >,
			_aux_arg_    < _id_              >
		>,

		_aux_iter_
		<
			_op_         < _constant_<false> >,
			_out_arg_    < _dereference_     >,
			_car_in_arg_ < _dereference_     >,
			_cdr_in_arg_ < _dereference_     >
		>
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

// glide (bifold):

/***********************************************************************************************************************/

// conceptual:

	nik_ce auto conceptual_glide_defaults = U_pack_Vs
	<
		_car_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_cdr_in_iter_
		<
			_closing_ival_ ,
			_inc_next_<>   ,
			_dec_prev_<>
		>;

		_break_
		<
			_equal_op_     ,
			_cdr_in_arg_i_ ,
			_end_arg_i_
		>;

		_action_
		<
			_tuple_op_     ,
			_car_in_arg_d_ ,
			_cdr_in_arg_d_
		>;

		_combine_
		<
			_op_        < _tuple_       >,
			_out_arg_   < _id_          >,
			_ps_arg_    < _id_          >
		>
	>;

/***********************************************************************************************************************/
/***********************************************************************************************************************/
/***********************************************************************************************************************/

} // cctmp_one_cycle_generics

